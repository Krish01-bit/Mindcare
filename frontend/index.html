<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindCare - AI Mental Wellness</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Auth Container -->
    <div id="authContainer" class="auth-container" style="display: none;">
        <!-- Login Page -->
        <div id="loginPage" class="auth-page" style="display: none;">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>ðŸ’™ MindCare</h1>
                    <p>Your AI Mental Wellness Companion</p>
                </div>

                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">ðŸ“§ Email</label>
                        <input type="email" id="loginEmail" placeholder="you@example.com" required>
                    </div>

                    <div class="form-group">
                        <label for="loginPassword">ðŸ”’ Password</label>
                        <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                    </div>

                    <div id="loginError" class="error-message" style="display: none;"></div>

                    <button type="submit" class="submit-btn">Log In</button>
                </form>

                <p class="auth-footer">
                    Don't have an account? <a href="#" onclick="showRegister()">Sign up</a>
                </p>
            </div>
        </div>

        <!-- Register Page -->
        <div id="registerPage" class="auth-page" style="display: none;">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>ðŸ’™ Join MindCare</h1>
                    <p>Start your wellness journey</p>
                </div>

                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <label for="registerName">ðŸ‘¤ Full Name</label>
                        <input type="text" id="registerName" placeholder="John Doe" required>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail">ðŸ“§ Email</label>
                        <input type="email" id="registerEmail" placeholder="you@example.com" required>
                    </div>

                    <div class="form-group">
                        <label for="registerPassword">ðŸ”’ Password</label>
                        <input type="password" id="registerPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                    </div>

                    <div class="form-group">
                        <label for="registerConfirmPassword">ðŸ”’ Confirm Password</label>
                        <input type="password" id="registerConfirmPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                    </div>

                    <div id="registerError" class="error-message" style="display: none;"></div>

                    <button type="submit" class="submit-btn">Sign Up</button>
                </form>

                <p class="auth-footer">
                    Already have an account? <a href="#" onclick="showLogin()">Log in</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div id="dashboardContainer" class="dashboard" style="display: none;">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="header-left">
                <h1 id="welcomeText">Welcome! ðŸ’™</h1>
                <p>Your mental wellness journey</p>
            </div>
            <button id="logoutBtn" class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <!-- Navigation Tabs -->
        <div class="dashboard-nav">
            <button class="nav-btn active" onclick="switchTab('chat')">ðŸ’¬ Chat</button>
            <button class="nav-btn" onclick="switchTab('analytics')">ðŸ“Š Analytics</button>
            <button class="nav-btn" onclick="switchTab('history')">ðŸ“‹ History</button>
        </div>

        <!-- Main Content -->
        <div class="dashboard-main">
            <!-- Left Sidebar -->
            <div class="dashboard-left">
                <!-- Emotion Detector -->
                <div class="emotion-detector">
                    <h3>ðŸ˜Š Emotion Detector</h3>
                    <div class="emotion-display">
                        <p class="emotion-label">Current Emotion</p>
                        <p id="emotionValue" class="emotion-value">Neutral</p>
                    </div>
                    <button id="cameraBtn" class="camera-btn" onclick="toggleCamera()">ðŸ“· Start Camera</button>
                    <video id="cameraVideo" style="display: none; width: 100%; border-radius: 8px; margin-top: 12px;"></video>
                    <p class="detector-note">*Face detection happens locally. No images are uploaded.</p>
                </div>

                <!-- Mood Chart -->
                <div class="mood-chart">
                    <h3>ðŸ“ˆ 7-Day Mood Trends</h3>
                    <div id="moodChartContainer" style="height: 200px; background: #f0f4f8; border-radius: 8px; padding: 16px;">
                        <p style="text-align: center; color: #999;">Loading mood data...</p>
                    </div>
                </div>

                <!-- Community -->
                <div class="community-section">
                    <h3>âš¡ Join Our Community</h3>
                    <p>Connect with others on a similar journey</p>
                    <a href="https://chat.whatsapp.com/YOUR_GROUP_LINK" target="_blank" class="whatsapp-btn">
                        Join WhatsApp Support Group
                    </a>
                </div>
            </div>

            <!-- Right Content -->
            <div class="dashboard-right">
                <!-- Chat Tab -->
                <div id="chatTab" class="tab-content active">
                    <div class="chat-box" id="chatBox">
                        <div class="empty-state">
                            <h2>Hello! ðŸ‘‹</h2>
                            <p>I'm here to listen and support you.</p>
                            <p>Share whatever's on your mind.</p>
                        </div>
                    </div>

                    <div class="chat-input-section">
                        <input 
                            type="text" 
                            id="messageInput" 
                            placeholder="Share your thoughts... (Press Enter to send)"
                            onkeypress="if(event.key==='Enter') sendMessage()"
                        >
                        <button class="send-btn" onclick="sendMessage()">âž¤</button>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analyticsTab" class="tab-content" style="display: none;">
                    <h2>Dashboard Summary</h2>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Today's Messages</h4>
                            <p id="todayMessages" class="stat-value">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Today's Emotions</h4>
                            <p id="todayEmotions" class="stat-value">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Week's Conversations</h4>
                            <p id="weekConversations" class="stat-value">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Total Conversations</h4>
                            <p id="totalConversations" class="stat-value">0</p>
                        </div>
                    </div>

                    <div class="analytics-section">
                        <h3>Emotion Breakdown (Last 7 Days)</h3>
                        <div id="emotionBreakdown" style="margin-top: 16px;">
                            <p style="color: #999;">Loading analytics...</p>
                        </div>
                    </div>
                </div>

                <!-- History Tab -->
                <div id="historyTab" class="tab-content" style="display: none;">
                    <h2>Chat History</h2>
                    
                    <div class="history-container">
                        <div class="conversations-list">
                            <h3>Conversations</h3>
                            <div id="conversationsList">
                                <p style="color: #999; text-align: center;">No conversations yet</p>
                            </div>
                        </div>

                        <div class="messages-display">
                            <div id="messagesDisplay">
                                <p style="color: #999; text-align: center;">Select a conversation to view messages</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>